<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portfolio - 1 to 5 (Black & White)</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #ffffff;
      --panel: #ffffff;
      --text: #0b0b0b;
      --muted: #4c4c4c;
      --line: #e4e4e4;
      --radius: 14px;
      --shadow: 0 24px 60px rgba(0, 0, 0, 0.65);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }
    img, video, iframe { display: block; width: 100%; border: none; }
    a { color: inherit; text-decoration: none; }
    main { display: flex; flex-direction: column; gap: 48px; padding: 0; }
    .shell { max-width: 100%; margin: 0 auto; width: 100%; display: grid; gap: 12px; padding: 0; }
    header { position: relative; z-index: 10; background: rgba(255,255,255,0.95); border-bottom: 1px solid var(--line); }
    .header-inner { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; gap: 12px; }
    .logo-sign { width: 110px; height: auto; filter: grayscale(1) brightness(1.05) contrast(1.02); display: block; background: #ffffff; padding: 6px; border-radius: 10px; }
    .nav-links { display: flex; gap: 8px; font-size: 12px; letter-spacing: .12em; text-transform: uppercase; align-items: center; }
    .nav-links a, .nav-links button { color: var(--text); text-decoration: none; padding: 8px 12px; min-width: 90px; text-align: center; border: 1px solid var(--line); border-radius: 10px; background: #fff; cursor: pointer; font-family: Arial, sans-serif; letter-spacing: .12em; text-transform: uppercase; }
    .dropdown { position: relative; display: flex; justify-content: center; }
    .dropdown-menu { position: absolute; top: 120%; left: 50%; transform: translateX(-50%); background: #fff; border: none; border-radius: 4px; display: none; flex-direction: column; min-width: 160px; overflow: hidden; box-shadow: none; align-items: stretch; }
    .dropdown-menu a { padding: 8px 10px; text-decoration: none; color: var(--text); letter-spacing: .06em; text-transform: uppercase; font-size: 12px; border: none; font-family: Arial, sans-serif; }
    .dropdown.open .dropdown-menu { display: flex; }
    .panel {
      background: transparent;
      border: none;
      border-radius: 0;
      box-shadow: none;
      padding: 16px 16px 32px;
      display: grid;
      gap: 12px;
    }
    h1, h2 { letter-spacing: .14em; text-transform: uppercase; }
    h1 { font-size: clamp(26px, 4vw, 34px); }
    h2 { font-size: 14px; color: var(--muted); }
    .label { font-size: 11px; letter-spacing: .2em; text-transform: uppercase; color: var(--muted); }
    .note { font-size: 13px; color: var(--muted); line-height: 1.6; }
    .media-frame { overflow: hidden; border-radius: 0; border: none; }
    .media-frame video,
    .media-frame img {
      height: 80vh;
      width: 100%;
      max-width: 100%;
      object-fit: contain;
    }
    @media (max-width: 640px) {
      .media-frame video,
      .media-frame img,
      .pdf-frame { height: 70vh; }
    }
    /* Horizontal slider for image set (images3) */
    .pdf-window { border: none; background: transparent; width: 100%; height: 88vh; overflow-x: auto; overflow-y: hidden; scroll-snap-type: x mandatory; -ms-overflow-style: none; scrollbar-width: none; }
    .pdf-window::-webkit-scrollbar { display: none; }
    .pdf-track { display: flex; gap: 0; padding: 0; height: 100%; }
    .pdf-page { flex: 0 0 100%; height: 100%; padding: 0; display: grid; place-items: center; scroll-snap-align: start; }
    .pdf-image { width: 100%; height: 100%; max-height: 88vh; object-fit: contain; }
  </style>
</head>
<body>
  <header>
    <div class="header-inner">
      <a href="index.html"><img class="logo-sign" src="sign.jpg" alt="Logo sign" /></a>
      <nav class="nav-links">
        <a href="portfolio/story.html">Story</a>
        <div class="dropdown">
          <button type="button" id="contents-toggle">Contents</button>
          <div class="dropdown-menu" id="contents-menu">
            <a href="#item-2">01</a>
            <a href="#item-3">02</a>
            <a href="#item-4">03</a>
            <a href="#item-5">04</a>
          </div>
        </div>
      </nav>
    </div>
  </header>
  <main>
    <!-- 1: Video -->
    <section class="shell" id="item-1">
      <div class="panel">
        <h1 style="font-size: 18px; letter-spacing: .12em; text-transform: uppercase; font-family: Arial, sans-serif; line-height: 1.4;">
          Displacement Metabolics ;
          <br />Re-inventing Beiruts Sheltering systems
        </h1>
        <div class="media-frame">
          <video id="hero-video" src="media/1.mp4" autoplay loop playsinline preload="auto"></video>
        </div>
      </div>
    </section>

    <!-- 2: Image -->
    <section class="shell" id="item-2">
      <div class="panel">
        <h2 style="font-size: 18px; letter-spacing: .14em; text-transform: uppercase; color: var(--text);">01/BEIRUT TEMPORARY LANDSCAPES</h2>
        <p class="note" style="font-size: 15px; color: var(--text);">
          A design proposal seeks to mitigate the profound issue of displacement that has impacted the majority of the Lebanese population, particularly in the South, the Bekaa and in Beirut's southern district: Dahye.<br>
          This is a direct result of the Lebanese-israeli conflict.
        </p>
        <div class="media-frame">
          <img src="images/2.jpg" alt="Item 2" />
        </div>
      </div>
    </section>

    <!-- 3: Image set from images3 (horizontal slider) -->
    <section class="shell" id="item-3">
      <div class="panel">
        <h2 style="font-size: 18px; letter-spacing: .14em; text-transform: uppercase; color: var(--text);">02/Beirut Water Narratives</h2>
        <div class="pdf-window">
          <div class="pdf-track" data-images3="31"></div>
        </div>
      </div>
    </section>

    <!-- 4: Image -->
    <section class="shell" id="item-4">
      <div class="panel">
        <h2 style="font-size: 18px; letter-spacing: .14em; text-transform: uppercase; color: var(--text);">03/Poland Airport (CPK) THE ILLEGAL POLISH AIRPORT (A LIVING UNDERPASS)</h2>
        <div class="media-frame">
          <img src="images/4.jpg" alt="Item 4" />
        </div>
      </div>
    </section>

    <!-- 5: Image -->
    <section class="shell" id="item-5">
      <div class="panel">
        <h2 style="font-size: 18px; letter-spacing: .14em; text-transform: uppercase; color: var(--text);">04/PARKING SPACES, DESIGN A NATURAL CANOPY</h2>
        <div class="media-frame">
          <img src="images/5.jpg" alt="Item 5" />
        </div>
      </div>
    </section>
  </main>

  <script>
    // Ensure video starts with sound after first user interaction
    (function () {
      const vid = document.getElementById("hero-video");
      if (!vid) return;
      const playOnce = () => {
        vid.play().catch(() => {});
        window.removeEventListener("click", playOnce);
        window.removeEventListener("touchstart", playOnce);
      };
      window.addEventListener("click", playOnce, { once: true });
      window.addEventListener("touchstart", playOnce, { once: true });

      // Pause video when its section is off-screen; resume when visible
      const section = vid.closest("section");
      if (!section || !("IntersectionObserver" in window)) return;
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              vid.play().catch(() => {});
            } else {
              vid.pause();
            }
          });
        },
        { threshold: 0.4 }
      );
      observer.observe(section);
    })();

    // Horizontal slider for images3 set
    (function () {
      const track = document.querySelector(".pdf-track");
      if (!track) return;
      const total = Number(track.dataset.images3 || "0");
      if (!total) return;
      // Build slides
      for (let i = 1; i <= total; i++) {
        const page = document.createElement("div");
        page.className = "pdf-page";
        const img = document.createElement("img");
        const num = String(i).padStart(4, "0");
        img.src = "images3/3_page-" + num + ".jpg";
        img.alt = "Image " + i;
        img.className = "pdf-image";
        page.appendChild(img);
        track.appendChild(page);
      }
      // No buttons needed; native horizontal scroll handles navigation
    })();

    // Dropdown toggle for contents
    (function () {
      const toggle = document.getElementById("contents-toggle");
      const menu = document.getElementById("contents-menu");
      if (!toggle || !menu) return;
      toggle.addEventListener("click", () => {
        toggle.parentElement.classList.toggle("open");
      });
      document.addEventListener("click", (e) => {
        if (!toggle.parentElement.contains(e.target)) {
          toggle.parentElement.classList.remove("open");
        }
      });
    })();
  </script>
</body>
</html>
